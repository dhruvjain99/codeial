{let t=function(){let t=$("#new-post-form");t.submit(function(o){o.preventDefault(),$.ajax({type:"POST",url:"/posts/create",data:t.serialize(),success:function(t){let o=e(t.data.post);$("#posts-list-container>ul").prepend(o),n($(" .post-delete-button",o)),displayFlash(t.data.flash)},error:function(t){console.log("Error in sending ajax request ::",t.responseText)}})})},e=function(t){return $(`<li id="post-${t._id}">\n        <p>\n                <a class="post-delete-button" href="/posts/destroy/${t._id}">X</a>\n                Content : ${t.content}\n                <br>\n                <small>By ${t.user.name}</small>\n                <div class="post-comments">\n                    <ul class="comments-list">\n\n                    </ul>\n                    <form action="/comments/create" method="POST">\n                            <input type="text" placeholder="Write a comment" name="comment">\n                            <input type="hidden" name="post" value="${t._id}">\n                            <input type="submit" value="Comment">\n                    </form>\n                </div>\n        </p>\n</li>`)},n=function(t){$(t).click(function(e){e.preventDefault(),$.ajax({type:"get",url:$(t).prop("href"),success:function(t){$(`#post-${t.data.post_id}`).remove(),displayFlash(t.data.flash)},error:function(t){console.log("Error in sending ajax request to delete ::",t.responseText)}})})};t();var allDeletePostButtons=$("#posts-list-container ul li .post-delete-button");for(let t of allDeletePostButtons)n(t)}